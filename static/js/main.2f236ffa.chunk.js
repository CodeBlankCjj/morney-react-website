(this["webpackJsonpmorney-react"]=this["webpackJsonpmorney-react"]||[]).push([[0],{39:function(n,e,t){var c={"./left.svg":40,"./money.svg":41,"./right.svg":42,"./statistics.svg":43,"./tags.svg":44};function a(n){var e=i(n);return t(e)}function i(n){if(!t.o(c,n)){var e=new Error("Cannot find module '"+n+"'");throw e.code="MODULE_NOT_FOUND",e}return c[n]}a.keys=function(){return Object.keys(c)},a.resolve=i,n.exports=a,a.id=39},40:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),s=new a.a({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="left"><path d="M381.826 519.406c-7.99-7.241-7.897-17.58.334-24.782l309.22-270.569c8.867-7.759 9.766-21.236 2.007-30.103-7.758-8.867-21.236-9.766-30.103-2.007L354.063 462.514c-27.429 24-27.792 64.127-.89 88.507l309.835 280.787c8.73 7.912 22.221 7.248 30.133-1.482 7.912-8.73 7.248-22.222-1.482-30.134L381.826 519.406z" /></symbol>'});r.a.add(s);e.default=s},41:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),s=new a.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money"><path d="M463.3 958.3V772.1H228.8v-77.5h234.5v-80.5H228.8v-83.5H420L191.5 128h113.7L469 420.6c18.2 33.4 32.4 62.4 42.7 86.9 9-19.8 24.6-50.5 46.8-92.1L713.9 128h120.8L605.5 530.6h192.9v83.5H564.9v80.5h233.5v77.5H564.9v186.2H463.3z" /></symbol>'});r.a.add(s);e.default=s},42:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),s=new a.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><path d="M642.174 504.594c7.99 7.241 7.897 17.58-.334 24.782L332.62 799.945c-8.867 7.759-9.766 21.236-2.007 30.103 7.758 8.867 21.236 9.766 30.103 2.007l309.221-270.569c27.429-24 27.792-64.127.89-88.507L360.992 192.192c-8.73-7.912-22.221-7.248-30.133 1.482-7.912 8.73-7.248 22.222 1.482 30.134l309.833 280.786z" /></symbol>'});r.a.add(s);e.default=s},43:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),s=new a.a({id:"statistics",use:"statistics-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="statistics"><path d="M85.191 938.809V0H0v1024h1024v-85.191H85.191z" /><path d="m412.326 495.814 299.022 117.564 295.614-462.59-72.413-46.003-257.278 403.807-298.17-117.564-270.908 413.178 70.709 46.004 233.424-354.396z" /></symbol>'});r.a.add(s);e.default=s},44:function(n,e,t){"use strict";t.r(e);var c=t(11),a=t.n(c),i=t(12),r=t.n(i),s=new a.a({id:"tags",use:"tags-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="tags"><path d="M923.733 57.6H605.867c-10.667 0-21.334 4.267-29.867 12.8L70.4 576c-17.067 17.067-17.067 42.667 0 59.733l315.733 315.734c8.534 8.533 19.2 12.8 29.867 12.8s21.333-4.267 29.867-12.8L953.6 448c8.533-8.533 12.8-19.2 12.8-29.867V100.267c0-23.467-19.2-42.667-42.667-42.667zm-42.666 343.467-462.934 460.8-256-256 460.8-462.934h256v258.134z" /><path d="M704 377.6c14.933 0 29.867-6.4 40.533-17.067 23.467-23.466 23.467-59.733 0-83.2s-59.733-23.466-83.2 0-23.466 59.734 0 83.2c12.8 12.8 27.734 17.067 42.667 17.067z" /></symbol>'});r.a.add(s);e.default=s},50:function(n,e,t){},51:function(n,e,t){"use strict";t.r(e);var c,a=t(1),i=t.n(a),r=t(27),s=t.n(r),o=t(2),d=t(13),l=t(4),j=t(3),u=t(10),b=t(21),x=t(28),h=t.n(x),f=t(0),g=["name","children","className"];try{(c=t(39)).keys().forEach(c)}catch(Ln){console.log(Ln)}var O,p,m,v,w,y,k,N=function(n){n.name,n.children;var e=n.className,t=Object(b.a)(n,g);return Object(f.jsx)("svg",Object(u.a)(Object(u.a)({className:h()("icon",e)},t),{},{children:n.name&&Object(f.jsx)("use",{xlinkHref:"#"+n.name})}))},C=j.a.nav(O||(O=Object(o.a)(["\n  background: #ffffff;\n  line-height: 24px;\n  box-shadow: 0 0 3px rgba(0, 0, 0, 0.25);\n\n  > ul {\n    display: flex;\n\n    > li {\n      width: 33.3%;\n      text-align: center;\n\n      > a {\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        padding: 4px;\n        justify-content: center;\n\n        .icon {\n          width: 24px;\n          height: 24px;\n        }\n\n        &.selected {\n          color: #f60;\n\n          .icon {\n            fill: #f60;\n          }\n        }\n      }\n\n    }\n  }\n"]))),S=function(){return Object(f.jsx)(C,{children:Object(f.jsxs)("ul",{children:[Object(f.jsx)("li",{children:Object(f.jsxs)(d.c,{exact:!0,to:"/tags",activeClassName:"selected",children:[Object(f.jsx)(N,{name:"tags"}),"\u6807\u7b7e"]})}),Object(f.jsx)("li",{children:Object(f.jsxs)(d.c,{to:"/money",activeClassName:"selected",children:[Object(f.jsx)(N,{name:"money"}),"\u8bb0\u8d26"]})}),Object(f.jsx)("li",{children:Object(f.jsxs)(d.c,{to:"/statistics",activeClassName:"selected",children:[Object(f.jsx)(N,{name:"statistics"}),"\u7edf\u8ba1"]})})]})})},z=j.a.div(p||(p=Object(o.a)(["\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n"]))),I=j.a.div(m||(m=Object(o.a)(["\n  flex-grow: 1;\n  overflow: auto;\n"]))),B=function(n){return Object(f.jsxs)(z,{children:[Object(f.jsx)(I,{className:n.className,children:n.children}),Object(f.jsx)(S,{})]})},L=t(15),M=t(6),T=parseInt(window.localStorage.getItem("idMax")||"0"),H=function(){return T+=1,window.localStorage.setItem("idMax",JSON.stringify(T)),T},E=function(n,e){var t=Object(a.useRef)(0);Object(a.useEffect)((function(){t.current+=1})),Object(a.useEffect)((function(){t.current>1&&n()}),[n,e])},J=function(){var n=Object(a.useState)([]),e=Object(M.a)(n,2),t=e[0],c=e[1];Object(a.useEffect)((function(){var n=JSON.parse(window.localStorage.getItem("tags")||"[]");0===n.length&&(n=[{id:H(),name:"\u8863"},{id:H(),name:"\u98df"},{id:H(),name:"\u4f4f"},{id:H(),name:"\u884c"}]),c(n)}),[]),E((function(){window.localStorage.setItem("tags",JSON.stringify(t))}),t);return{tags:t,setTags:c,findTag:function(n){return t.filter((function(e){return e.id===n}))[0]},updateTag:function(n,e){var a=e.name;c(t.map((function(e){return e.id===n?{id:n,name:a}:e})))},findTagIndex:function(n){for(var e=-1,c=0;c<t.length;c++)if(t[c].id===n){e=c;break}return e},deleteTag:function(n){c(t.filter((function(e){return e.id!==n})))},addTag:function(){var n=window.prompt("\u8bf7\u8f93\u5165\u65b0\u6807\u7b7e");null!==n&&""!==n&&c([].concat(Object(L.a)(t),[{id:H(),name:n}]))},getName:function(n){var e=t.filter((function(e){return e.id===n}))[0];return e?e.name:""}}},D=j.a.button(v||(v=Object(o.a)(["\n  font-size: 18px;\n  border: none;\n  padding: 8px 12px;\n  background: #f60;\n  border-radius: 4px;\n  color: #fff;\n"]))),Y=j.a.div(w||(w=Object(o.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),A=j.a.div(y||(y=Object(o.a)(["\n  height: 16px;\n"]))),R=j.a.ol(k||(k=Object(o.a)(["\n  font-size: 16px;\n  background: #fff;\n\n  > li {\n    border-bottom: 1px solid #d5d5d5;\n    line-height: 20px;\n    margin-left: 16px;\n\n    > a {\n      padding: 12px 16px 12px 0;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n    }\n  }\n"])));var V,F,K,U,_,q,G,P=function(){var n=J(),e=n.tags,t=n.addTag;return Object(f.jsxs)(B,{children:[Object(f.jsx)(R,{children:e.map((function(n){return Object(f.jsx)("li",{children:Object(f.jsxs)(d.b,{to:"/tags/"+n.id,children:[Object(f.jsx)("span",{children:n.name}),Object(f.jsx)(N,{name:"right"})]})},n.id)}))}),Object(f.jsxs)(Y,{children:[Object(f.jsx)(A,{}),Object(f.jsx)(A,{}),Object(f.jsx)(D,{onClick:t,children:"\u65b0\u589e\u6807\u7b7e"})]})]})},Q=j.a.section(V||(V=Object(o.a)(["\n  background: #fff;\n  padding: 12px 16px;\n  flex-grow: 1;\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-end;\n  align-items: flex-start;\n\n  > ol {\n    margin: 0 -12px;\n\n    > li {\n      background: #d9d9d9;\n      border-radius: 18px;\n      display: inline-block;\n      padding: 3px 18px;\n      font-size: 14px;\n      margin: 8px 12px;\n\n      &.selected {\n        background: black;\n        color: white;\n      }\n    }\n  }\n\n  > button {\n    background: none;\n    border: none;\n    padding: 2px 4px;\n    border-bottom: 1px solid #333;\n    color: #666;\n    margin-top: 8px;\n  }\n"]))),W=function(n){var e=J(),t=e.tags,c=e.addTag,a=n.value;return Object(f.jsxs)(Q,{children:[Object(f.jsx)("ol",{children:t.map((function(e){return Object(f.jsx)("li",{onClick:function(){var t;t=e.id,a.indexOf(t)>=0?n.onChange(a.filter((function(n){return n!==t}))):n.onChange([].concat(Object(L.a)(a),[t]))},className:(t=e.id,a.indexOf(t)>=0?"selected":""),children:e.name},e.id);var t}))}),Object(f.jsx)("button",{onClick:c,children:"\u65b0\u589e\u6807\u7b7e"})]})},X=j.a.section(F||(F=Object(o.a)(["\n  font-size: 24px;\n\n  > ul {\n    display: flex;\n\n    > li {\n      width: 50%;\n      text-align: center;\n      padding: 16px 0;\n      position: relative;\n\n      &.selected::after {\n        content: '';\n        display: block;\n        height: 3px;\n        background: #000;\n        bottom: 0;\n        position: absolute;\n        width: 100%;\n        left: 0;\n      }\n    }\n  }\n"]))),Z=function(n){var e={"-":"\u652f\u51fa","+":"\u6536\u5165"},t=Object(a.useState)(["-","+"]),c=Object(M.a)(t,1)[0],i=n.value;return Object(f.jsx)(X,{children:Object(f.jsx)("ul",{children:c.map((function(t){return Object(f.jsx)("li",{className:i===t?"selected":"",onClick:function(){n.onChange(t)},children:e[t]},t)}))})})},$=["label","children"],nn=j.a.label(K||(K=Object(o.a)(["\n  display: flex;\n  align-items: center;\n\n  > span {\n    margin-right: 16px;\n    white-space: nowrap;\n  }\n\n  > input {\n    display: block;\n    width: 100%;\n    height: 44px;\n    background: none;\n    border: none;\n  }\n"]))),en=function(n){n.label,n.children;var e=Object(b.a)(n,$);return Object(f.jsxs)(nn,{children:[Object(f.jsx)("span",{children:n.label}),Object(f.jsx)("input",Object(u.a)({},e))]})},tn=j.a.section(U||(U=Object(o.a)(["\n  background: #f5f5f5;\n  padding: 14px 16px;\n  font-size: 14px;\n"]))),cn=function(n){var e=n.value;return Object(f.jsx)(tn,{children:Object(f.jsx)(en,{label:"\u5907\u6ce8",type:"text",value:e,onChange:function(e){n.onChange(e.target.value)},placeholder:"\u8bf7\u586b\u5199\u5907\u6ce8"})})},an=j.a.section(_||(_=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n\n  > .output {\n    background: #fff;\n    font-size: 36px;\n    line-height: 72px;\n    text-align: right;\n    padding: 0 16px;\n    box-shadow: inset 0 -5px 5px -5px rgba(0, 0, 0, 0.25) inset 0 5px 5px -5px rgba(0, 0, 0, 0.25);\n  }\n\n  > .pad {\n    > button {\n      float: left;\n      width: 25%;\n      height: 64px;\n      border: none;\n\n      &.ok {\n        height: 128px;\n        float: right;\n      }\n\n      &.zero {\n        width: 50%;\n      }\n\n      &:nth-child(1) {\n        background: #f2f2f2;\n      }\n\n      &:nth-child(2),\n      &:nth-child(5) {\n        background: #e0e0e0;\n      }\n\n      &:nth-child(3),\n      &:nth-child(6),\n      &:nth-child(9) {\n        background: #d3d3d3;\n      }\n\n      &:nth-child(4),\n      &:nth-child(7),\n      &:nth-child(10) {\n        background: #c1c1c1;\n      }\n\n      &:nth-child(8),\n      &:nth-child(11),\n      &:nth-child(13) {\n        background: #b8b8b8;\n      }\n\n      &:nth-child(12) {\n        background: #9a9a9a;\n      }\n\n      &:nth-child(14) {\n        background: #a9a9a9;\n      }\n    }\n  }\n"]))),rn=function(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";switch(n){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":return"0"===e?n:e+n;case"\u5220\u9664":return 1===e.length?"":e.slice(0,-1);case".":return e.indexOf(".")>=0?e:e+".";case"\u6e05\u7a7a":default:return""}},sn=function(n){var e=Object(a.useState)(n.value.toString()),t=Object(M.a)(e,2),c=t[0],i=t[1];return Object(f.jsxs)(an,{children:[Object(f.jsx)("div",{className:"output",children:c}),Object(f.jsxs)("div",{className:"pad clearfix",onClick:function(e){var t=e.target.textContent;null!==t&&("OK"!==t?" 1234567890. ".split("").concat(["\u5220\u9664","\u6e05\u7a7a"]).indexOf(t)>=0&&function(e){var t;t=e.length>16?e.slice(0,16):0===e.length?"0":e,i(t),n.onChange(parseFloat(t))}(rn(t,c)):n.onOk&&n.onOk())},children:[Object(f.jsx)("button",{children:"1"}),Object(f.jsx)("button",{children:"2"}),Object(f.jsx)("button",{children:"3"}),Object(f.jsx)("button",{children:"\u5220\u9664"}),Object(f.jsx)("button",{children:"4"}),Object(f.jsx)("button",{children:"5"}),Object(f.jsx)("button",{children:"6"}),Object(f.jsx)("button",{children:"\u6e05\u7a7a"}),Object(f.jsx)("button",{children:"7"}),Object(f.jsx)("button",{children:"8"}),Object(f.jsx)("button",{children:"9"}),Object(f.jsx)("button",{className:"ok",children:"OK"}),Object(f.jsx)("button",{className:"zero",children:"0"}),Object(f.jsx)("button",{children:"."})]})]})},on=function(){var n=Object(a.useState)([]),e=Object(M.a)(n,2),t=e[0],c=e[1];Object(a.useEffect)((function(){c(JSON.parse(window.localStorage.getItem("records")||"[]"))}),[]),E((function(){window.localStorage.setItem("records",JSON.stringify(t))}),t);return{records:t,addRecord:function(n){if(n.amount<=0)return!1;if(0===n.tagIds.length)return alert("\u8bf7\u9009\u62e9\u81f3\u5c11\u4e00\u4e2a\u6807\u7b7e"),!1;var e=Object(u.a)(Object(u.a)({},n),{},{createdAt:(new Date).toISOString()});return c([].concat(Object(L.a)(t),[e])),!0}}},dn=Object(j.a)(B)(q||(q=Object(o.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),ln={tagIds:[],note:"",category:"-",amount:0},jn=j.a.div(G||(G=Object(o.a)(["\n  background: #c4c4c4;\n"])));var un,bn,xn,hn=function(){var n=Object(a.useState)(ln),e=Object(M.a)(n,2),t=e[0],c=e[1],i=on().addRecord,r=function(n){c(Object(u.a)(Object(u.a)({},t),n))};return Object(f.jsxs)(dn,{children:[Object(f.jsx)(W,{value:t.tagIds,onChange:function(n){return r({tagIds:n})}}),Object(f.jsx)(cn,{value:t.note,onChange:function(n){return r({note:n})}}),Object(f.jsx)(jn,{children:Object(f.jsx)(Z,{value:t.category,onChange:function(n){return r({category:n})}})}),Object(f.jsx)(sn,{value:t.amount,onChange:function(n){return r({amount:n})},onOk:function(){i(t)&&(alert("\u4fdd\u5b58\u6210\u529f"),c(ln))}})]})},fn=t(32),gn=t.n(fn),On=j.a.div(un||(un=Object(o.a)(["\n  background: #fff;\n\n"]))),pn=j.a.div(bn||(bn=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  background: #ffffff;\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n\n  > .note {\n    margin-right: auto;\n    margin-left: 16px;\n    color: #999;\n  }\n"]))),mn=j.a.h3(xn||(xn=Object(o.a)(["\n  font-size: 18px;\n  line-height: 20px;\n  padding: 10px 16px;\n"])));var vn=function(){var n=Object(a.useState)("-"),e=Object(M.a)(n,2),t=e[0],c=e[1],i=on().records,r=J().getName,s={};i.filter((function(n){return n.category===t})).forEach((function(n){var e=gn()(n.createdAt).format("YYYY\u5e74MM\u6708DD\u65e5");e in s||(s[e]=[]),s[e].push(n)}));var o=Object.entries(s).sort((function(n,e){return n[0]===e[0]?0:n[0]>e[0]?-1:n[0]<e[0]?1:0}));return Object(f.jsxs)(B,{children:[Object(f.jsx)(On,{children:Object(f.jsx)(Z,{value:t,onChange:function(n){return c(n)}})}),o.map((function(n){var e=Object(M.a)(n,2),t=e[0],c=e[1];return Object(f.jsxs)("div",{children:[Object(f.jsx)(mn,{children:t}),Object(f.jsx)("div",{children:c.map((function(n){return Object(f.jsxs)(pn,{children:[Object(f.jsx)("div",{className:"tags oneLine",children:n.tagIds.map((function(n){return Object(f.jsx)("span",{children:r(n)},n)})).reduce((function(n,e,t,c){return n.concat(t<c.length-1?[e,","]:[e])}),[])}),n.note&&Object(f.jsx)("div",{className:"note",children:n.note}),Object(f.jsxs)("div",{className:"amount",children:["\uffe5",n.amount]})]},n.createdAt)}))})]},t)}))]})};var wn,yn,kn,Nn=function(){return Object(f.jsx)("h2",{children:"\u8f93\u9519\u5730\u5740\u4e86\uff01\uff01\uff01\uff01\uff01\uff01"})},Cn=j.a.header(wn||(wn=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  line-height: 20px;\n  align-items: center;\n  padding: 14px;\n  background: #fff;\n"]))),Sn=j.a.div(yn||(yn=Object(o.a)(["\n  background: #fff;\n  padding: 0 16px;\n  margin-top: 8px;\n"]))),zn=function(){var n=J(),e=n.findTag,t=n.updateTag,c=n.deleteTag,a=Object(l.h)().id,i=e(parseInt(a)),r=Object(l.g)();return Object(f.jsxs)(B,{children:[Object(f.jsxs)(Cn,{children:[Object(f.jsx)(N,{name:"left",onClick:function(){r.goBack()}}),Object(f.jsx)("span",{children:"\u7f16\u8f91\u6807\u7b7e"}),Object(f.jsx)(N,{})]}),i?function(n){return Object(f.jsxs)("div",{children:[Object(f.jsx)(Sn,{children:Object(f.jsx)(en,{label:"\u6807\u7b7e\u540d",type:"text",placeholder:"\u8bf7\u8f93\u5165\u6807\u7b7e\u540d",value:n.name,onChange:function(e){t(n.id,{name:e.target.value})}})}),Object(f.jsxs)(Y,{children:[Object(f.jsx)(A,{}),Object(f.jsx)(A,{}),Object(f.jsx)(A,{}),Object(f.jsx)(D,{onClick:function(){return c(n.id)},children:"\u5220\u9664\u6807\u7b7e"})]})]})}(i):Object(f.jsx)(Y,{children:"tag\u4e0d\u5b58\u5728"})]})},In=j.a.div(kn||(kn=Object(o.a)(["\n  color: #333333;\n  max-width: 500px;\n  margin: 0 auto;\n"])));var Bn=function(){return Object(f.jsx)(In,{children:Object(f.jsx)(d.a,{children:Object(f.jsxs)(l.d,{children:[Object(f.jsx)(l.b,{exact:!0,path:"/tags",children:Object(f.jsx)(P,{})}),Object(f.jsx)(l.b,{exact:!0,path:"/tags/:id",children:Object(f.jsx)(zn,{})}),Object(f.jsx)(l.b,{exact:!0,path:"/money",children:Object(f.jsx)(hn,{})}),Object(f.jsx)(l.b,{exact:!0,path:"/statistics",children:Object(f.jsx)(vn,{})}),Object(f.jsx)(l.a,{exact:!0,from:"/*",to:"/money"}),Object(f.jsx)(l.b,{path:"*",children:Object(f.jsx)(Nn,{})})]})})})};t(50);s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(Bn,{})}),document.getElementById("root"))}},[[51,1,2]]]);
//# sourceMappingURL=main.2f236ffa.chunk.js.map